(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{505:function(s,n,t){"use strict";t.r(n);var a=t(9),e=Object(a.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("PDF-Explained")]),s._v(" "),n("h3",{attrs:{id:"零-doom-pdf"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#零-doom-pdf"}},[s._v("#")]),s._v(" (零) Doom PDF")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/ading2210/doompdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/ading2210/doompdf"),n("OutboundLink")],1)]),s._v(" "),n("hr"),s._v(" "),n("h3",{attrs:{id:"一-概述与特性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-概述与特性"}},[s._v("#")]),s._v(" （一）概述与特性")]),s._v(" "),n("blockquote",[n("p",[s._v("简介")])]),s._v(" "),n("ul",[n("li",[s._v("PDF全称：可移植文档格式（Portable Document Format）")]),s._v(" "),n("li",[s._v("描述打印页面的世界领先语言，适用于纸张和在线使用")]),s._v(" "),n("li",[s._v("确保文件在不同平台和设备上呈现一致")])]),s._v(" "),n("blockquote",[n("p",[s._v("历史与发展")])]),s._v(" "),n("ul",[n("li",[s._v("最初是Adobe的内部项目，旨在创建与平台无关的文档交换方法")]),s._v(" "),n("li",[s._v("从PostScript图形语言中衍生而来，但解决了PostScript在屏幕使用上的不实用性")]),s._v(" "),n("li",[s._v("2008年成为ISO标准化开放标准（ISO-32000-1:2008）")])]),s._v(" "),n("blockquote",[n("p",[s._v("主要特性")])]),s._v(" "),n("ul",[n("li",[s._v("随机访问与线性化：任何对象（页面、图形等）可恒定时间内访问，线性化优化Web浏览")]),s._v(" "),n("li",[s._v("流创建与增量更新：支持顺序创建大文件，增量更新实现快速保存与撤消")]),s._v(" "),n("li",[s._v("嵌入字体：确保文档字体一致性，支持多种字体格式")]),s._v(" "),n("li",[s._v("可搜索文本：维护字符形状到Unicode的映射，支持文本复制、粘贴与搜索")]),s._v(" "),n("li",[s._v("安全特性：RC4/AES加密，所有者密码与用户密码，数字签名")])]),s._v(" "),n("blockquote",[n("p",[s._v("专业变体")])]),s._v(" "),n("ul",[n("li",[s._v("PDF/A：长期存档标准，要求嵌入字体、元数据，禁止加密与JavaScript")]),s._v(" "),n("li",[s._v("PDF/X：印刷行业图形交换标准，要求嵌入字体与图像数据，禁止声音、电影等")])]),s._v(" "),n("hr"),s._v(" "),n("h3",{attrs:{id:"二-文件结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二-文件结构"}},[s._v("#")]),s._v(" （二）文件结构")]),s._v(" "),n("blockquote",[n("p",[n("a",{attrs:{href:"https://zxyle.github.io/PDF-Explained/chapter4.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("组成部分"),n("OutboundLink")],1)])]),s._v(" "),n("ul",[n("li",[s._v("Document Content：描述文档结构的对象（页面、元数据、字体等）")]),s._v(" "),n("li",[s._v("Page Content：使用操作符将文本和图形放置在页面上的指令序列")]),s._v(" "),n("li",[s._v("File Structure：文件头（Header）、交叉引用表（Xref）、文件尾（Trailer）\n"),n("ul",[n("li",[s._v("header，提供PDF版本号")]),s._v(" "),n("li",[s._v("body，包含页面、图形内容和大部分辅助信息的主体，全部编码为一系列对象。")]),s._v(" "),n("li",[s._v("交叉引用表，列出文件中每个对象的位置便于随机访问。")]),s._v(" "),n("li",[s._v("trailer，包括trailer字典，它有助于找到文件的每个部分，并列出可以在不处理整个文件的情况下读取的各种元数据。")])])])]),s._v(" "),n("p",[n("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/lvsoso/rnotes@main/img/2025-09-13-14-02-43.png",alt:""}}),s._v(" "),n("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/lvsoso/rnotes@main/img/2025-09-13-14-02-58.png",alt:""}})]),s._v(" "),n("blockquote",[n("p",[s._v("Incremental Update（增量更新）")])]),s._v(" "),n("ul",[n("li",[s._v("定义:\n"),n("ul",[n("li",[s._v("增量更新允许通过将修改附加到文件末尾来更新PDF文件，而不需要重写整个文件。")])])]),s._v(" "),n("li",[s._v("机制:\n"),n("ul",[n("li",[s._v("新增/修改对象: 新的或更改的对象被附加到文件末尾。")]),s._v(" "),n("li",[s._v("更新交叉引用表: 交叉引用表被更新以反映新对象的位置。")])])]),s._v(" "),n("li",[s._v("优势:\n"),n("ul",[n("li",[s._v("快速保存: 更改可以快速保存，无需重写整个文件。")]),s._v(" "),n("li",[s._v("版本控制: 支持文档的多个版本，可以撤销更改以检索早期版本。")]),s._v(" "),n("li",[s._v("数字签名: 更改经过数字签名的文档时，必须使用增量更新以保持签名有效性。")])])])]),s._v(" "),n("blockquote",[n("p",[s._v("Object and Cross-Reference Stream（对象和交叉引用流）")])]),s._v(" "),n("ul",[n("li",[s._v("对象流:\n"),n("ul",[n("li",[s._v("定义: 从PDF 1.5开始，允许多个对象放入单个对象流中，整个流被压缩。")]),s._v(" "),n("li",[s._v("优势: 进一步压缩PDF文件，减少文件大小。")])])]),s._v(" "),n("li",[s._v("交叉引用流:\n"),n("ul",[n("li",[s._v("定义: 用于引用对象流中的对象的新机制。")]),s._v(" "),n("li",[s._v("机制: 交叉引用流替代传统的交叉引用表，提供对象位置的压缩表示。")])])]),s._v(" "),n("li",[s._v("压缩机制:\n"),n("ul",[n("li",[s._v("对象分组: 将特定时间所需的对象组合在一起（例如每页的对象）。")]),s._v(" "),n("li",[s._v("保留随机访问: 保留文档的随机访问属性，避免将所有对象放入单个对象流中。")])])])]),s._v(" "),n("blockquote",[n("p",[s._v("Linearized PDF（线性化PDF）")])]),s._v(" "),n("ul",[n("li",[s._v("定义:\n"),n("ul",[n("li",[s._v("线性化PDF是一种优化机制，使PDF文件在网络环境中快速显示第一页，并允许快速跳转到其他页面。")])])]),s._v(" "),n("li",[s._v("机制:\n"),n("ul",[n("li",[s._v("对象排序: 添加有关如何对文件中的对象进行排序的规则。")]),s._v(" "),n("li",[s._v("提示表: 提供如何访问对象的提示，以加速页面显示。")])])]),s._v(" "),n("li",[s._v("优势:\n"),n("ul",[n("li",[s._v("快速显示: 第一页快速显示，无需等待整个文件下载。")]),s._v(" "),n("li",[s._v("快速跳转: 通过超链接或书签快速跳转到其他页面。")]),s._v(" "),n("li",[s._v("向后兼容: 线性化PDF文件也是正常的PDF文件，可由不理解线性化的阅读器读取。")])])])]),s._v(" "),n("hr"),s._v(" "),n("h3",{attrs:{id:"三-最小的pdf文档"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三-最小的pdf文档"}},[s._v("#")]),s._v(" （三）最小的PDF文档")]),s._v(" "),n("ul",[n("li",[s._v("trailer字典，提供有关如何阅读其余内容的信息文件中的对象")]),s._v(" "),n("li",[s._v("文档目录，它是对象图的根。")]),s._v(" "),n("li",[s._v("页面树，它枚举文档中的页面。")]),s._v(" "),n("li",[s._v("至少有一页。每个页面必须具有：\n"),n("ul",[n("li",[s._v("resources(资源)，包括例如字体。")]),s._v(" "),n("li",[s._v("其页面内容，其中包含绘制文本和图形的说明在页面上。")])])])]),s._v(" "),n("p",[s._v("helloword-broker.pdf:")]),s._v(" "),n("div",{staticClass:"language-plaintext line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-plaintext"}},[n("code",[s._v("%PDF-1.0    % 文件header\n1 0 obj     % 主要对象\n<< /Type /Pages\n   /Count 1\n   /Kids [2 0 R]\n>>\nendobj\n2 0 obj\n<< /Type /Page\n   /MediaBox [0 0 612 792]\n   /Resources 3 0 R\n   /Parent 1 0 R\n   /Contents [4 0 R]\n>>\nendobj\n3 0 obj\n<< /Font\n     << /F0\n          << /Type /Font\n             /BaseFont /Times-Italic\n             /Subtype /Type1 >>\n     >>\n>>\nendobj\n4 0 obj     % 图形内容\n<< >>\nstream\n1. 0. 0. 1. 50. 700. cm\nBT\n /F0 36. Tf\n (Hello, World!) Tj\nET\nendstream\nendobj\n5 0 obj     % 目录，交叉引用表和trailer\n<< /Type /Catalog\n   /Pages 1 0 R\n>>\nendobj\nxref\n0 6\ntrailer\n<< /Size 6\n   /Root 5 0 R\n>>\nstartxref\n0\n%%EOF\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br")])]),n("p",[s._v("可以直接打开查看")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/lvsoso/rnotes@main/img/2025-09-13-13-54-05.png",alt:""}})]),s._v(" "),n("hr"),s._v(" "),n("h3",{attrs:{id:"四-加密"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#四-加密"}},[s._v("#")]),s._v(" （四）加密")]),s._v(" "),n("blockquote",[n("p",[s._v("核心特点")])]),s._v(" "),n("ul",[n("li",[s._v("加密范围：仅加密流和字符串内容，不加密数字或PDF结构")]),s._v(" "),n("li",[s._v("结构可见性：文档对象结构保持可见，内容得到保护")]),s._v(" "),n("li",[s._v("元数据处理：现代方法允许XMP元数据保持未加密状态")])]),s._v(" "),n("blockquote",[n("p",[s._v("发展历程")])]),s._v(" "),n("ul",[n("li",[s._v("PDF 1.1：引入40位RC4加密")]),s._v(" "),n("li",[s._v("PDF 1.4：128位RC4加密")]),s._v(" "),n("li",[s._v("PDF 1.5：128位AES加密")]),s._v(" "),n("li",[s._v("PDF 1.7：256位AES加密")])]),s._v(" "),n("h4",{attrs:{id:"加密字段结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#加密字段结构"}},[s._v("#")]),s._v(" 加密字段结构")]),s._v(" "),n("p",[s._v("关键条目")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("├── /R, /V：定义加密算法\n├── /P：权限位域（打印、修改、提取等）\n├── /O：所有者密码验证\n├── /U：用户密码验证\n└── /Filter：安全方法标准\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("双密码体系")]),s._v(" "),n("ul",[n("li",[s._v("所有者密码：完全控制权限，可修改安全设置")]),s._v(" "),n("li",[s._v("用户密码：受限权限，由所有者定义")]),s._v(" "),n("li",[s._v("空白用户密码：常见做法，文件直接打开但功能受限")])]),s._v(" "),n("h4",{attrs:{id:"加密解密流程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#加密解密流程"}},[s._v("#")]),s._v(" 加密解密流程")]),s._v(" "),n("p",[s._v("读取加密文件")]),s._v(" "),n("ul",[n("li",[s._v("解析对象图（无需解密）")]),s._v(" "),n("li",[s._v("检查/Encrypt条目确认加密状态")]),s._v(" "),n("li",[s._v("验证用户密码（单向算法）")]),s._v(" "),n("li",[s._v("计算解密密钥")]),s._v(" "),n("li",[s._v("解密流和字符串")]),s._v(" "),n("li",[s._v("强制执行权限设置")])]),s._v(" "),n("p",[s._v("写入加密文件")]),s._v(" "),n("ul",[n("li",[s._v("计算/U和/O条目（单向算法）")]),s._v(" "),n("li",[s._v("构建加密字典并添加到trailer")]),s._v(" "),n("li",[s._v("使用密钥加密所有字符串和流")]),s._v(" "),n("li",[s._v("展平对象图为文件")])]),s._v(" "),n("h4",{attrs:{id:"权限"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#权限"}},[s._v("#")]),s._v(" 权限")]),s._v(" "),n("p",[s._v("权限类型")]),s._v(" "),n("ul",[n("li",[s._v("查看文档")]),s._v(" "),n("li",[s._v("打印文档")]),s._v(" "),n("li",[s._v("修改内容")]),s._v(" "),n("li",[s._v("提取文本和图形")]),s._v(" "),n("li",[s._v("添加注释")])]),s._v(" "),n("p",[s._v("权限特性")]),s._v(" "),n("ul",[n("li",[s._v("40位RC4：基础权限组合")]),s._v(" "),n("li",[s._v("128位及以上：扩展权限选项")]),s._v(" "),n("li",[s._v("实现差异：不同PDF处理器可能有不同解释")])]),s._v(" "),n("h4",{attrs:{id:"注意"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[s._v("#")]),s._v(" 注意")]),s._v(" "),n("ul",[n("li",[s._v("编辑加密文档仅有用户密码时需要保持原加密设置")]),s._v(" "),n("li",[s._v("编辑加密文档解密后需删除加密字典或者使用相同密码重新加密")])]),s._v(" "),n("hr"),s._v(" "),n("h3",{attrs:{id:"五-浏览器预览和优化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#五-浏览器预览和优化"}},[s._v("#")]),s._v(" （五）浏览器预览和优化")]),s._v(" "),n("blockquote",[n("p",[s._v("pdf.js")])]),s._v(" "),n("ul",[n("li",[s._v("Mozilla开发的开源JavaScript库")]),s._v(" "),n("li",[s._v("在Web浏览器中渲染PDF文件，无需插件")]),s._v(" "),n("li",[s._v("支持大部分PDF特性，包括文本、图像、注释等")])]),s._v(" "),n("p",[s._v("手动翻页")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/lvsoso/rnotes@main/img/2025-09-13-16-28-09.png",alt:""}})]),s._v(" "),n("p",[s._v("滚动翻页")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/lvsoso/rnotes@main/img/2025-09-13-16-32-46.png",alt:""}})]),s._v(" "),n("blockquote",[n("p",[s._v("pdf -> 图片")])]),s._v(" "),n("ul",[n("li",[s._v("转成多页图片")]),s._v(" "),n("li",[s._v("需要前端支持")]),s._v(" "),n("li",[s._v("无法复制文字")])]),s._v(" "),n("hr"),s._v(" "),n("h3",{attrs:{id:"六-参考资料"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#六-参考资料"}},[s._v("#")]),s._v(" （六）参考资料")]),s._v(" "),n("ul",[n("li",[n("p",[n("a",{attrs:{href:"https://zxyle.github.io/PDF-Explained/",target:"_blank",rel:"noopener noreferrer"}},[s._v("PDF-Explained"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://mozilla.github.io/pdf.js/getting_started/#api",target:"_blank",rel:"noopener noreferrer"}},[s._v("PDF.js API 文档"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://juejin.cn/post/7529439907820797988",target:"_blank",rel:"noopener noreferrer"}},[s._v("vue3实现高性能pdf预览器功能可行性方案及实践（pdfjs-dist5.x插件使用及自定义修改）"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://www.cnblogs.com/suifengxiaoyao1990/articles/16133529.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("002-Vue项目中通过pdfjs实现PDF预览"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://www.infoq.cn/article/lcz5uvnlme1dsymtipkq",target:"_blank",rel:"noopener noreferrer"}},[s._v("如何实现高性能的在线 PDF 预览"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://juejin.cn/post/6932797926120882190",target:"_blank",rel:"noopener noreferrer"}},[s._v("从生产事故分析背后的渲染瓶颈"),n("OutboundLink")],1)])])])])}),[],!1,null,null,null);n.default=e.exports}}]);