<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>llm-agent-dev | rnotes</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="https://cdn.staticaly.com/gh//tu/main/img/image_20220720_132133.ico">
    <script language="javascript" type="text/javascript" src="/rnotes/js/pgmanor-self.js"></script>
    <meta name="description" content="vdoing博客主题模板">
    <meta name="keywords" content="二丫讲梵,golang,vue,go-web,go-admin,go-ldap-admin">
    <meta name="theme-color" content="#11a8cd">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <link rel="preload" href="/rnotes/assets/css/0.styles.bf69d3cb.css" as="style"><link rel="preload" href="/rnotes/assets/js/app.a72cd9d9.js" as="script"><link rel="preload" href="/rnotes/assets/js/2.94fbefaf.js" as="script"><link rel="preload" href="/rnotes/assets/js/38.0d1f7397.js" as="script"><link rel="prefetch" href="/rnotes/assets/js/10.6a67c880.js"><link rel="prefetch" href="/rnotes/assets/js/11.f416d47a.js"><link rel="prefetch" href="/rnotes/assets/js/12.1d5d7126.js"><link rel="prefetch" href="/rnotes/assets/js/13.609e1937.js"><link rel="prefetch" href="/rnotes/assets/js/14.0eafa5b2.js"><link rel="prefetch" href="/rnotes/assets/js/15.7ac510c9.js"><link rel="prefetch" href="/rnotes/assets/js/16.b0884894.js"><link rel="prefetch" href="/rnotes/assets/js/17.2ef5a646.js"><link rel="prefetch" href="/rnotes/assets/js/18.99c393c6.js"><link rel="prefetch" href="/rnotes/assets/js/19.8ef5739a.js"><link rel="prefetch" href="/rnotes/assets/js/20.39146412.js"><link rel="prefetch" href="/rnotes/assets/js/21.25a83464.js"><link rel="prefetch" href="/rnotes/assets/js/22.64738ef0.js"><link rel="prefetch" href="/rnotes/assets/js/23.93d381cd.js"><link rel="prefetch" href="/rnotes/assets/js/24.81a970bc.js"><link rel="prefetch" href="/rnotes/assets/js/25.ebae8593.js"><link rel="prefetch" href="/rnotes/assets/js/26.8f5af983.js"><link rel="prefetch" href="/rnotes/assets/js/27.f31cefa5.js"><link rel="prefetch" href="/rnotes/assets/js/28.3a50521b.js"><link rel="prefetch" href="/rnotes/assets/js/29.6b8673b0.js"><link rel="prefetch" href="/rnotes/assets/js/3.13d21f5c.js"><link rel="prefetch" href="/rnotes/assets/js/30.784ebdc0.js"><link rel="prefetch" href="/rnotes/assets/js/31.aa7b71af.js"><link rel="prefetch" href="/rnotes/assets/js/32.e3a31c61.js"><link rel="prefetch" href="/rnotes/assets/js/33.3918c390.js"><link rel="prefetch" href="/rnotes/assets/js/34.bac89949.js"><link rel="prefetch" href="/rnotes/assets/js/35.126d5fe6.js"><link rel="prefetch" href="/rnotes/assets/js/36.e485d832.js"><link rel="prefetch" href="/rnotes/assets/js/37.974573e6.js"><link rel="prefetch" href="/rnotes/assets/js/39.526bd36e.js"><link rel="prefetch" href="/rnotes/assets/js/4.1488c535.js"><link rel="prefetch" href="/rnotes/assets/js/40.ae14f9c6.js"><link rel="prefetch" href="/rnotes/assets/js/41.11022192.js"><link rel="prefetch" href="/rnotes/assets/js/42.f1d9d2e1.js"><link rel="prefetch" href="/rnotes/assets/js/43.a5358e58.js"><link rel="prefetch" href="/rnotes/assets/js/44.e5d0ad82.js"><link rel="prefetch" href="/rnotes/assets/js/45.fc156ff2.js"><link rel="prefetch" href="/rnotes/assets/js/46.96dacb17.js"><link rel="prefetch" href="/rnotes/assets/js/47.5eb0e226.js"><link rel="prefetch" href="/rnotes/assets/js/48.906c4f34.js"><link rel="prefetch" href="/rnotes/assets/js/49.857d1240.js"><link rel="prefetch" href="/rnotes/assets/js/5.abdc7215.js"><link rel="prefetch" href="/rnotes/assets/js/50.f5f61228.js"><link rel="prefetch" href="/rnotes/assets/js/51.b918f475.js"><link rel="prefetch" href="/rnotes/assets/js/52.c0c02b5c.js"><link rel="prefetch" href="/rnotes/assets/js/53.ecb3545b.js"><link rel="prefetch" href="/rnotes/assets/js/54.78178b5e.js"><link rel="prefetch" href="/rnotes/assets/js/55.7f41bc40.js"><link rel="prefetch" href="/rnotes/assets/js/56.cf7f81da.js"><link rel="prefetch" href="/rnotes/assets/js/6.58692173.js"><link rel="prefetch" href="/rnotes/assets/js/7.b17851fd.js"><link rel="prefetch" href="/rnotes/assets/js/8.a2ddd01e.js"><link rel="prefetch" href="/rnotes/assets/js/9.9c3a8444.js">
    <link rel="stylesheet" href="/rnotes/assets/css/0.styles.bf69d3cb.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/rnotes/" class="home-link router-link-active"><!----> <span class="site-name">rnotes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <!---->  <ul class="sidebar-links"><li><a href="/rnotes/pages/1bc236/" class="sidebar-link">GPT</a></li><li><a href="/rnotes/pages/df3df3/" class="sidebar-link">quant</a></li><li><a href="/rnotes/pages/014c36/" class="sidebar-link">deploy</a></li><li><a href="/rnotes/pages/ca5575/" class="sidebar-link">nn</a></li><li><a href="/rnotes/pages/3b53b1/" class="sidebar-link">tool</a></li><li><a href="/rnotes/pages/8ffba5/" class="sidebar-link">llm</a></li><li><a href="/rnotes/pages/8179b1/" class="sidebar-link">ml-llm-ops</a></li><li><a href="/rnotes/pages/599f36/" class="sidebar-link">llm-app</a></li><li><a href="/rnotes/pages/c21d72/" class="sidebar-link">llm-mcp</a></li><li><a href="/rnotes/pages/41aefe/" class="sidebar-link">llm-agent</a></li><li><a href="/rnotes/pages/8d3b19/" aria-current="page" class="active sidebar-link">llm-agent-dev</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/rnotes/pages/8d3b19/#ai-agent-开发入门" class="sidebar-link">AI Agent 开发入门</a></li></ul></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/rnotes/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/rnotes/deep-learning/#dl" data-v-06225672>dl</a></li></ul> <div class="info" data-v-06225672><!----> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2025-09-14</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">llm-agent-dev<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="ai-agent-开发入门"><a href="#ai-agent-开发入门" class="header-anchor">#</a> AI Agent 开发入门</h2> <p>在Agent内部，大模型被用作推理引擎以确定采取哪些操作以及按什么顺序执行这些操作</p> <p>操作的序列并非硬编码在代码中，而是使用大模型来选择执行的操作序列。</p> <h3 id="当前的一些产品-工具开源实现"><a href="#当前的一些产品-工具开源实现" class="header-anchor">#</a> 当前的一些产品/工具开源实现</h3> <h4 id="manus"><a href="#manus" class="header-anchor">#</a> Manus</h4> <p><a href="https://manus.im/?index=1" target="_blank" rel="noopener noreferrer">manus.im<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://manus.im/share/QfmleZqV5JDSk5uPYijvt2?replay=1" target="_blank" rel="noopener noreferrer">sound app<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://wctwhram.manus.space/" target="_blank" rel="noopener noreferrer">sound app online<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://gist.github.com/renschni/4fbc70b31bad8dd57f3370239dccd58f" target="_blank" rel="noopener noreferrer">Manus Report<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="openmanus"><a href="#openmanus" class="header-anchor">#</a> OpenManus</h4> <p><a href="https://github.com/mannaandpoem/OpenManus/tree/main" target="_blank" rel="noopener noreferrer">repo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://deepwiki.com/mannaandpoem/OpenManus/1-overview" target="_blank" rel="noopener noreferrer">deepwiki<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="https://cdn.jsdelivr.net/gh/lvsoso/rnotes@main/img/2025-06-07-16-24-20.png" alt="代码结构"></p> <h5 id="单agent"><a href="#单agent" class="header-anchor">#</a> 单agent</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>Manus -<span class="token operator">&gt;</span> ToolCallAgent -<span class="token operator">&gt;</span> ReActAgent -<span class="token operator">&gt;</span> BaseAgent
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/lvsoso/rnotes@main/img/2025-06-15-23-30-43.png" alt=""></p> <p><a href="https://github.com/mannaandpoem/OpenManus/blob/main/app/agent/base.py" target="_blank" rel="noopener noreferrer">BaseAgent<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://github.com/mannaandpoem/OpenManus/blob/main/app/agent/react.py" target="_blank" rel="noopener noreferrer">ReActAgent<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://github.com/mannaandpoem/OpenManus/blob/main/app/agent/toolcall.py" target="_blank" rel="noopener noreferrer">ToolCallAgent<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://github.com/mannaandpoem/OpenManus/blob/main/app/agent/manus.py" target="_blank" rel="noopener noreferrer">Manus<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h5 id="多agent"><a href="#多agent" class="header-anchor">#</a> 多agent</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>flow -<span class="token operator">&gt;</span> PlanningFlow -<span class="token operator">&gt;</span> BaseFlow
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/lvsoso/rnotes@main/img/2025-06-15-23-32-20.png" alt=""></p> <p><a href="https://github.com/mannaandpoem/OpenManus/blob/main/app/flow/planning.py" target="_blank" rel="noopener noreferrer">PlanningFlow<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://github.com/mannaandpoem/OpenManus/blob/main/app/flow/base.py" target="_blank" rel="noopener noreferrer">BaseFlow<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="tiny-agent"><a href="#tiny-agent" class="header-anchor">#</a> Tiny Agent</h4> <blockquote><p>Agent 本质上是构建在 MCP 客户端之上的 while 循环！</p></blockquote> <p><a href="https://github.com/huggingface/huggingface_hub/blob/main/src/huggingface_hub/inference/_mcp/agent.py" target="_blank" rel="noopener noreferrer">agent.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="https://cdn.jsdelivr.net/gh/lvsoso/rnotes@main/img/2025-06-07-19-16-53.png" alt=""></p> <h3 id="实现一个agent"><a href="#实现一个agent" class="header-anchor">#</a> 实现一个agent</h3> <ul><li><p>主要功能</p> <ul><li>鉴权/数据隔离</li> <li>记忆存储、搜索 *</li> <li>思考决策  *</li> <li>模型推断</li> <li>工具使用  *</li></ul></li> <li><p>其他</p> <ul><li>指标监测</li> <li>日志</li> <li>并发</li></ul></li></ul> <h4 id="能做的地方"><a href="#能做的地方" class="header-anchor">#</a> 能做的地方</h4> <ul><li>执行框架</li> <li>记忆</li> <li>工具</li></ul> <h3 id="执行框架"><a href="#执行框架" class="header-anchor">#</a> 执行框架</h3> <h4 id="tot-treeofthoughts"><a href="#tot-treeofthoughts" class="header-anchor">#</a> ToT(TreeOfThoughts)</h4> <blockquote><p>ToT 是一种基于思维树搜索的问题求解方法，通过生成多个思维分支、评估和优先探索有前景的思维路径来解决复杂问题。</p></blockquote> <p>整体流程</p> <div class="language-mermaid line-numbers-mode"><pre class="language-mermaid"><code><span class="token keyword">flowchart</span> TD
    A<span class="token text string">[开始: 接收用户任务]</span> <span class="token arrow operator">--&gt;</span> B<span class="token text string">[初始化工具和代理]</span>
    B <span class="token arrow operator">--&gt;</span> C<span class="token text string">[生成初始思维]</span>
    C <span class="token arrow operator">--&gt;</span> D<span class="token text string">[评估初始思维]</span>
    D <span class="token arrow operator">--&gt;</span> E<span class="token text string">[执行工具调用]</span>
    E <span class="token arrow operator">--&gt;</span> F<span class="token text string">[将思维加入优先队列]</span>
    F <span class="token arrow operator">--&gt;</span> G<span class="token text string">{队列是否为空?}</span>
    G <span class="token arrow operator">--&gt;</span><span class="token label property">|是|</span> O<span class="token text string">[构建最终答案]</span>
    G <span class="token arrow operator">--&gt;</span><span class="token label property">|否|</span> H<span class="token text string">[从队列中取出最高分数的思维]</span>
    H <span class="token arrow operator">--&gt;</span> I<span class="token text string">[更新最佳解决方案]</span>
    I <span class="token arrow operator">--&gt;</span> J<span class="token text string">{是否达到最大深度?}</span>
    J <span class="token arrow operator">--&gt;</span><span class="token label property">|是|</span> G
    J <span class="token arrow operator">--&gt;</span><span class="token label property">|否|</span> K<span class="token text string">[获取思维上下文]</span>
    K <span class="token arrow operator">--&gt;</span> L<span class="token text string">[生成下一层思维]</span>
    L <span class="token arrow operator">--&gt;</span> M<span class="token text string">[评估新思维]</span>
    M <span class="token arrow operator">--&gt;</span> N<span class="token text string">[将新思维加入队列]</span>
    N <span class="token arrow operator">--&gt;</span> G
    O <span class="token arrow operator">--&gt;</span> P<span class="token text string">[结束]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>思维树结构</p> <div class="language-mermaid line-numbers-mode"><pre class="language-mermaid"><code><span class="token keyword">graph</span> TD
    Root<span class="token text string">[任务]</span> <span class="token arrow operator">--&gt;</span> A1<span class="token text string">[思维1]</span>
    Root <span class="token arrow operator">--&gt;</span> A2<span class="token text string">[思维2]</span>
    Root <span class="token arrow operator">--&gt;</span> A3<span class="token text string">[思维3]</span>
    
    A1 <span class="token arrow operator">--&gt;</span> B11<span class="token text string">[深度1思维1-1]</span>
    A1 <span class="token arrow operator">--&gt;</span> B12<span class="token text string">[深度1思维1-2]</span>
    A1 <span class="token arrow operator">--&gt;</span> B13<span class="token text string">[深度1思维1-3]</span>
    
    A2 <span class="token arrow operator">--&gt;</span> B21<span class="token text string">[深度1思维2-1]</span>
    A2 <span class="token arrow operator">--&gt;</span> B22<span class="token text string">[深度1思维2-2]</span>
    A2 <span class="token arrow operator">--&gt;</span> B23<span class="token text string">[深度1思维2-3]</span>
    
    A3 <span class="token arrow operator">--&gt;</span> B31<span class="token text string">[深度1思维3-1]</span>
    A3 <span class="token arrow operator">--&gt;</span> B32<span class="token text string">[深度1思维3-2]</span>
    A3 <span class="token arrow operator">--&gt;</span> B33<span class="token text string">[深度1思维3-3]</span>
    
    B11 <span class="token arrow operator">--&gt;</span> C111<span class="token text string">[深度2思维...]</span>
    B12 <span class="token arrow operator">--&gt;</span> C121<span class="token text string">[深度2思维...]</span>
    B23 <span class="token arrow operator">--&gt;</span> C231<span class="token text string">[深度2思维...]</span>
    
    <span class="token keyword">classDef</span> highScore <span class="token style"><span class="token property">fill</span><span class="token operator">:</span>#f96<span class="token punctuation">,</span><span class="token property">stroke</span><span class="token operator">:</span>#333<span class="token punctuation">,</span><span class="token property">stroke-width</span><span class="token operator">:</span>2px</span>
    <span class="token keyword">class</span> B12,B23,C121 highScore
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>生成多个思维选项</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>        <span class="token triple-quoted-string string">&quot;&quot;&quot;生成多个思维选项&quot;&quot;&quot;</span>
        prompt <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&quot;&quot;&quot;作为一个思维生成器，请为完成以下任务生成 </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>beam_width<span class="token punctuation">}</span></span><span class="token string"> 个不同的思维方向。

可用工具：
</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>_format_tools<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">

当前任务：</span><span class="token interpolation"><span class="token punctuation">{</span>task<span class="token punctuation">}</span></span><span class="token string">

上下文：
</span><span class="token interpolation"><span class="token punctuation">{</span>context<span class="token punctuation">}</span></span><span class="token string">

请为每个思维方向指定：
1. 思维内容
2. 要使用的工具
3. 工具的具体输入

请按照以下格式回复 </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>beam_width<span class="token punctuation">}</span></span><span class="token string"> 个方案：
1. 思维: [思维内容]
工具: [工具名称]
输入: [工具输入]

2. 思维: [思维内容]
工具: [工具名称]
输入: [工具输入]

...（共 </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>beam_width<span class="token punctuation">}</span></span><span class="token string"> 个）
&quot;&quot;&quot;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>评估思维的质量</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>        <span class="token triple-quoted-string string">&quot;&quot;&quot;评估思维的质量&quot;&quot;&quot;</span>
        prompt <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&quot;&quot;&quot;请评估以下思维方案对于完成任务的可能效果。

任务：</span><span class="token interpolation"><span class="token punctuation">{</span>task<span class="token punctuation">}</span></span><span class="token string">

思维方案：
</span><span class="token interpolation"><span class="token punctuation">{</span>thought<span class="token punctuation">.</span>thought<span class="token punctuation">}</span></span><span class="token string">
将使用工具：</span><span class="token interpolation"><span class="token punctuation">{</span>thought<span class="token punctuation">.</span>tool_name<span class="token punctuation">}</span></span><span class="token string">
工具输入：</span><span class="token interpolation"><span class="token punctuation">{</span>thought<span class="token punctuation">.</span>tool_input<span class="token punctuation">}</span></span><span class="token string">

如果有执行结果：
</span><span class="token interpolation"><span class="token punctuation">{</span>thought<span class="token punctuation">.</span>result<span class="token punctuation">}</span></span><span class="token string">

请给出 0-1 之间的评分，其中：
0 表示完全无法帮助解决任务
1 表示非常有助于解决任务

请只回复一个数字，例如：0.75
&quot;&quot;&quot;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="plan-and-execute"><a href="#plan-and-execute" class="header-anchor">#</a> Plan-and-Execute</h4> <p>示例</p> <p><img src="https://cdn.jsdelivr.net/gh/lvsoso/rnotes@main/img/2025-06-07-19-54-19.png" alt=""></p> <p>整体流程</p> <div class="language-mermaid line-numbers-mode"><pre class="language-mermaid"><code><span class="token keyword">flowchart</span> TD
    A<span class="token text string">[开始: 接收用户任务]</span> <span class="token arrow operator">--&gt;</span> B<span class="token text string">[初始化代理和工具]</span>
    B <span class="token arrow operator">--&gt;</span> C<span class="token text string">[开始规划执行循环]</span>
    C <span class="token arrow operator">--&gt;</span> D<span class="token text string">[生成执行计划]</span>
    D <span class="token arrow operator">--&gt;</span> E<span class="token text string">[检查计划有效性]</span>
    E <span class="token arrow operator">--&gt;</span><span class="token label property">|有效|</span> F<span class="token text string">[逐步执行计划]</span>
    E <span class="token arrow operator">--&gt;</span><span class="token label property">|无效|</span> G<span class="token text string">[记录失败原因]</span> 
    G <span class="token arrow operator">--&gt;</span> L
    F <span class="token arrow operator">--&gt;</span><span class="token label property">|执行成功|</span> H<span class="token text string">[返回最终结果]</span>
    F <span class="token arrow operator">--&gt;</span><span class="token label property">|执行失败|</span> I<span class="token text string">[记录失败步骤和原因]</span>
    I <span class="token arrow operator">--&gt;</span> J<span class="token text string">[增加计划尝试次数]</span>
    J <span class="token arrow operator">--&gt;</span> K<span class="token text string">{达到最大尝试次数?}</span>
    K <span class="token arrow operator">--&gt;</span><span class="token label property">|否|</span> L<span class="token text string">[根据失败经验重新规划]</span>
    L <span class="token arrow operator">--&gt;</span> D
    K <span class="token arrow operator">--&gt;</span><span class="token label property">|是|</span> M<span class="token text string">[返回失败信息]</span>
    H <span class="token arrow operator">--&gt;</span> N<span class="token text string">[结束]</span>
    M <span class="token arrow operator">--&gt;</span> N
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="react"><a href="#react" class="header-anchor">#</a> ReAct</h4> <p><img src="https://cdn.jsdelivr.net/gh/lvsoso/rnotes@main/img/2025-06-02-18-03-49.png" alt="“ReAct: Synergizing Reasoning and Acting in Language Models”"></p> <table><thead><tr><th>框架</th> <th>概述</th> <th>结果</th></tr></thead> <tbody><tr><td>标准 (Standard)</td> <td>直接给出错误的答案——<strong>iPod</strong>。没有任何推理过程或外部交互，直接给出答案</td> <td><strong>错误的答案：</strong> iPod</td></tr> <tr><td>仅推理 (Reason only)</td> <td>尝试通过逐步推理来解决问题，但没有与外部环境交互来验证信息。错误地推断出答案是<strong>iPhone、iPad、iPod Touch</strong></td> <td><strong>错误的答案：</strong> iPhone、iPad、iPod Touch</td></tr> <tr><td>仅行动 (Act only)</td> <td>仅行动 (Act) 通过与外部环境（如维基百科）的一系列交互来获取信息，尝试多次搜索（搜索 “Apple Remote” “Front Row”等），但缺乏推理支持，未能综合这些观察结果后得出正确答案。认为需要结束搜索</td> <td><strong>错误的决策：</strong> 结束搜索</td></tr> <tr><td>ReAct</td> <td>组合推理和行动。首先通过推理确定搜索Apple Remote（苹果遥控器），并从外部环境中观察结果。随着推理的深入，识别出需要搜索Front Row（软件）。在几轮交互后，通过进一步推理，准确得出答案：键盘功能键</td> <td><strong>正确的答案：</strong> 键盘功能键</td></tr></tbody></table> <p>演示</p> <p><img src="https://cdn.jsdelivr.net/gh/lvsoso/rnotes@main/img/2025-06-07-19-48-51.png" alt=""></p> <p>整体流程</p> <div class="language-mermaid line-numbers-mode"><pre class="language-mermaid"><code><span class="token keyword">flowchart</span> TD
    A<span class="token text string">[开始迭代]</span> <span class="token arrow operator">--&gt;</span> B<span class="token text string">[构建包含历史记录的提示词]</span>
    B <span class="token arrow operator">--&gt;</span> C<span class="token text string">[调用大语言模型]</span>
    C <span class="token arrow operator">--&gt;</span> D<span class="token text string">[解析响应: 思考/行动/输入]</span>
    D <span class="token arrow operator">--&gt;</span> E<span class="token text string">{Action == Finish?}</span>
    E <span class="token arrow operator">--&gt;</span><span class="token label property">|是|</span> F<span class="token text string">[返回最终答案]</span>
    E <span class="token arrow operator">--&gt;</span><span class="token label property">|否|</span> G<span class="token text string">{是否已达最大迭代次数?}</span>
    G <span class="token arrow operator">--&gt;</span><span class="token label property">|是|</span> H<span class="token text string">[返回: 未完成]</span>
    G <span class="token arrow operator">--&gt;</span><span class="token label property">|否|</span> I<span class="token text string">{工具是否存在?}</span>
    I <span class="token arrow operator">--&gt;</span><span class="token label property">|否|</span> J<span class="token text string">[返回错误: 未知工具]</span>
    I <span class="token arrow operator">--&gt;</span><span class="token label property">|是|</span> K<span class="token text string">[执行工具]</span>
    K <span class="token arrow operator">--&gt;</span> L<span class="token text string">[记录结果到历史]</span>
    L <span class="token arrow operator">--&gt;</span> A
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>输入/输出格式</p> <div class="language-mermaid line-numbers-mode"><pre class="language-mermaid"><code><span class="token keyword">graph</span> TD
    <span class="token keyword">subgraph</span> 输入
    A<span class="token text string">[用户任务]</span> <span class="token arrow operator">--&gt;</span> B<span class="token text string">[构建提示词]</span>
    B <span class="token arrow operator">--&gt;</span> C<span class="token text string">[提示词结构]</span>
    C <span class="token arrow operator">--&gt;</span> D<span class="token text string">[系统指令]</span>
    C <span class="token arrow operator">--&gt;</span> E<span class="token text string">[可用工具]</span>
    C <span class="token arrow operator">--&gt;</span> F<span class="token text string">[历史交互记录]</span>
    C <span class="token arrow operator">--&gt;</span> G<span class="token text string">[当前任务]</span>
    <span class="token keyword">end</span>
    
    <span class="token keyword">subgraph</span> 输出
    H<span class="token text string">[LLM响应]</span> <span class="token arrow operator">--&gt;</span> I<span class="token text string">[思考 Thought]</span>
    H <span class="token arrow operator">--&gt;</span> J<span class="token text string">[行动 Action]</span>
    H <span class="token arrow operator">--&gt;</span> K<span class="token text string">[行动输入 Action Input]</span>
    <span class="token keyword">end</span>
    
    B <span class="token arrow operator">--&gt;</span> H
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>Plan-and-Execute 与 ReAct 比较</p> <div class="language-mermaid line-numbers-mode"><pre class="language-mermaid"><code><span class="token keyword">graph</span> TD
    <span class="token keyword">subgraph</span> <span class="token string">&quot;Plan-and-Execute&quot;</span>
    A1<span class="token text string">[规划阶段]</span> <span class="token arrow operator">--&gt;</span> B1<span class="token text string">[执行阶段]</span>
    B1 <span class="token arrow operator">--&gt;</span><span class="token label property">|失败|</span> A1
    <span class="token keyword">end</span>
    
    <span class="token keyword">subgraph</span> <span class="token string">&quot;ReAct&quot;</span>
    A2<span class="token text string">[思考]</span> <span class="token arrow operator">--&gt;</span> B2<span class="token text string">[行动]</span>
    B2 <span class="token arrow operator">--&gt;</span> C2<span class="token text string">[观察]</span>
    C2 <span class="token arrow operator">--&gt;</span> A2
    <span class="token keyword">end</span>
    
    D<span class="token text string">[主要区别: Plan-and-Execute先完整规划再执行,&lt;br&gt;而ReAct动态决策每一步]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="codeact"><a href="#codeact" class="header-anchor">#</a> CodeAct</h4> <h5 id="executable-code-actions-elicit-better-llm-agents"><a href="#executable-code-actions-elicit-better-llm-agents" class="header-anchor">#</a> Executable Code Actions Elicit Better LLM Agents</h5> <p><a href="https://arxiv.org/pdf/2402.01030" target="_blank" rel="noopener noreferrer">Executable Code Actions Elicit Better LLM Agents<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <img src="https://cdn.jsdelivr.net/gh/lvsoso/rnotes@main/img/2025-06-15-23-56-06.png" alt=""> <img src="https://cdn.jsdelivr.net/gh/lvsoso/rnotes@main/img/2025-06-15-23-53-40.png" alt=""></p> <h5 id="示例"><a href="#示例" class="header-anchor">#</a> 示例</h5> <p><a href="https://github.com/langchain-ai/langgraph-codeact" target="_blank" rel="noopener noreferrer">langgraph-codeact<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="记忆"><a href="#记忆" class="header-anchor">#</a> 记忆</h3> <h4 id="针对大量数据"><a href="#针对大量数据" class="header-anchor">#</a> 针对大量数据</h4> <div class="language-mermaid line-numbers-mode"><pre class="language-mermaid"><code><span class="token keyword">graph</span> TD<span class="token punctuation">;</span>
    A<span class="token text string">[&quot;用户提问 (User Query)&quot;]</span> <span class="token arrow operator">--&gt;</span> B<span class="token text string">(&quot;检索模块 / Retriever&quot;)</span><span class="token punctuation">;</span>
    C<span class="token text string">[&quot;知识库 / Knowledge Base\n(例如：向量数据库, 文档集合, API等)&quot;]</span><span class="token punctuation">;</span>
    B <span class="token inter-arrow-label"><span class="token arrow-head arrow operator">--</span> <span class="token label property">&quot;1\. 使用提问进行语义搜索或查询&quot;</span> <span class="token arrow operator">--&gt;</span></span> C<span class="token punctuation">;</span>
    C <span class="token inter-arrow-label"><span class="token arrow-head arrow operator">--</span> <span class="token label property">&quot;2\. 返回相关文档片段/上下文 (Relevant Chunks/Context)&quot;</span> <span class="token arrow operator">--&gt;</span></span> B<span class="token punctuation">;</span>
    B <span class="token inter-arrow-label"><span class="token arrow-head arrow operator">--</span> <span class="token label property">&quot;3\. 检索到的上下文&quot;</span> <span class="token arrow operator">--&gt;</span></span> D<span class="token text string">{&quot;组合模块 / Combiner&quot;}</span><span class="token punctuation">;</span>
    A <span class="token inter-arrow-label"><span class="token arrow-head arrow operator">--</span> <span class="token label property">&quot;4\. 原始提问&quot;</span> <span class="token arrow operator">--&gt;</span></span> D<span class="token punctuation">;</span>
    D <span class="token inter-arrow-label"><span class="token arrow-head arrow operator">--</span> <span class="token label property">&quot;5\. 构建增强提示 (Augmented Prompt)&quot;</span> <span class="token arrow operator">--&gt;</span></span> E<span class="token text string">[&quot;大型语言模型 (LLM)&quot;]</span><span class="token punctuation">;</span>
    E <span class="token inter-arrow-label"><span class="token arrow-head arrow operator">--</span> <span class="token label property">&quot;6\. 基于增强提示生成答案&quot;</span> <span class="token arrow operator">--&gt;</span></span> F<span class="token text string">[&quot;最终回复 (Final Response)&quot;]</span><span class="token punctuation">;</span>
    F <span class="token arrow operator">--&gt;</span> G<span class="token text string">((&quot;用户&quot;))</span><span class="token punctuation">;</span>

    <span class="token comment">%% Styling (optional)</span>
    <span class="token keyword">classDef</span> default <span class="token style"><span class="token property">fill</span><span class="token operator">:</span>#f9f9f9<span class="token punctuation">,</span><span class="token property">stroke</span><span class="token operator">:</span>#333<span class="token punctuation">,</span><span class="token property">stroke-width</span><span class="token operator">:</span>2px</span><span class="token punctuation">;</span>
    <span class="token keyword">classDef</span> process <span class="token style"><span class="token property">fill</span><span class="token operator">:</span>#00f<span class="token punctuation">,</span><span class="token property">stroke</span><span class="token operator">:</span>#333<span class="token punctuation">,</span><span class="token property">stroke-width</span><span class="token operator">:</span>2px</span><span class="token punctuation">;</span>
    <span class="token keyword">classDef</span> kb <span class="token style"><span class="token property">fill</span><span class="token operator">:</span>#lightgrey<span class="token punctuation">,</span><span class="token property">stroke</span><span class="token operator">:</span>#333<span class="token punctuation">,</span><span class="token property">stroke-width</span><span class="token operator">:</span>2px</span><span class="token punctuation">;</span>
    <span class="token keyword">classDef</span> llm <span class="token style"><span class="token property">fill</span><span class="token operator">:</span>#000<span class="token punctuation">,</span><span class="token property">stroke</span><span class="token operator">:</span>#333<span class="token punctuation">,</span><span class="token property">stroke-width</span><span class="token operator">:</span>2px</span><span class="token punctuation">;</span>

    <span class="token keyword">class</span> A,F,G default<span class="token punctuation">;</span>
    <span class="token keyword">class</span> B,D process<span class="token punctuation">;</span>
    <span class="token keyword">class</span> C kb<span class="token punctuation">;</span>
    <span class="token keyword">class</span> E llm<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h4 id="单个大文档"><a href="#单个大文档" class="header-anchor">#</a> 单个大文档</h4> <p><a href="https://cookbook.openai.com/examples/partners/model_selection_guide/model_selection_guide#3a-use-case-long-context-rag-for-legal-qa" target="_blank" rel="noopener noreferrer">Long-Context RAG for Legal Q&amp;A<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="https://cdn.jsdelivr.net/gh/lvsoso/rnotes@main/img/2025-06-16-00-14-59.png" alt=""></p></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2025/09/14, 18:36:48</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/rnotes/pages/41aefe/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">llm-agent</div></a> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/rnotes/pages/41aefe/" class="prev">llm-agent</a></span> <!----></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/rnotes/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/rnotes/pages/9006f7/"><div>
            lib
            <!----></div></a> <span class="date">09-14</span></dt></dl><dl><dd>02</dd> <dt><a href="/rnotes/pages/4901c4/"><div>
            git
            <!----></div></a> <span class="date">09-14</span></dt></dl><dl><dd>03</dd> <dt><a href="/rnotes/pages/6f3474/"><div>
            lfs
            <!----></div></a> <span class="date">09-14</span></dt></dl> <dl><dd></dd> <dt><a href="/rnotes/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> <!----></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><!----></div></div>
    <script src="/rnotes/assets/js/app.a72cd9d9.js" defer></script><script src="/rnotes/assets/js/2.94fbefaf.js" defer></script><script src="/rnotes/assets/js/38.0d1f7397.js" defer></script>
  </body>
</html>
